/*!!
 * Power Panel Router <https://github.com/carlos-sweb/pp-router>
 * @author Carlos Illesca
 * @version 2.1.7 (2021/12/23 11:35 AM)
 * Released under the MIT License
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ppRouter",e):(t=t||self,"undefined"==typeof ppIs?t.ppRouter=e():t.ppRouter=e(ppIs))}(this,(function(t){return function(e){this.current_hash=null,this.routes=e||{},this.addRoute=function(t,e){this.routes[t]=e},this.removeRoute=function(t){for(var e=Object.keys(this.routes),n=0;n<e.length;n++)if(e[n]==t){delete this.routes[t];break}},this.history=window.history,this.location=window.location,this.params=null,window.addEventListener("hashchange",function(){this.run()}.bind(this)),this.redirect=function(t){this.url_redirect=t},this.run=function(){var n=[],s=this.location.hash;""===s&&(s+="/",this.location.hash="/");const i=Object.keys(e);for(var r=0;r<i.length;r++){const e=this.checkHash(s,i[r]);e.success&&t.isFunction(this.routes[i[r]].controller)&&n.push(e)}if(0===n.length&&(t.isFunction(this.noFound)&&this.noFound(this.localtion),"string"==typeof this.url_redirect&&(this.location.hash=this.url_redirect)),n.length>0){var h=[];for(r=0;r<n.length;r++)h.push(n[r].dinamic);var o=Math.min(...h),a=h.indexOf(o),c=n[a].pattern;this.params=n[a].params,c!=this.current_hash&&(this.routes[c].controller(n[a].params),this.current_hash=c)}},this.checkHash=function(t,e){var n=0;if(t.replace("#","")==e&&-1==e.indexOf(":"))return{success:!0,dinamic:n,pattern:e,params:{}};for(var s,i=new RegExp(/\/[(\:)]{1}([a-z,A-Z,0-9,\-,\_]{0,})[\(](string|any|number)[\)]/g),r="^#"+e,h=[];null!=(s=i.exec(e));)switch(h.push(s),s[2]){case"number":r=r.replace(s[0],"/([0-9]{1,})"),n++;break;case"any":r=r.replace(s[0],"/([0-9A-Za-z]{1,})"),n++;break;case"string":r=r.replace(s[0],"/([A-Za-z-_]{1,})"),n++}r=r.replaceAll("/","[\\/]{1}"),r+="$";var o=new RegExp(r).exec(t);if(null!=o){var a=new Object;return h.forEach(((t,e)=>{a[t[1]]=o[e+1]})),{success:!0,dinamic:n,pattern:e,params:a}}return this.params=null,{success:!1}},this.start=function(e){t.isString(e,function(t){this.location.hash=t}.bind(this)),this.run()}}}));